## Step VIII - Square Rules

```C
void shuffle_indices (uint* indices) {
	unsigned int meta_indices[TOTAL];
	unsigned int i, j, random, tmp;
	for ( i = 0; i < TOTAL; i++ )
		meta_indices[i] = indices[i];
	for ( i = 0; i < LINE; i++ ) {
		for ( j = (i * LINE); j < ((i + 1) * LINE); j++ ) {
			random = rand() % ((i + 1) * LINE - j) + j;
			tmp = indices[meta_indices[j]];
			indices[meta_indices[j]] = indices[meta_indices[random]];
			indices[meta_indices[random]] = tmp;
		}
	}
}
```

```
 -------------------                                     -------------------
|  0 :  1 |  4 :  5 |                                   |  0 :  2 |  7 :  5 |
|- - - - -|- - - - -|                                   |- - - - -|- - - - -|
|  2 :  3 |  6 :  7 |                                   |  1 :  3 |  6 :  4 |
|---------+---------|                                   |---------+---------|
|  8 :  9 | 12 : 13 |                                   |  8 : 11 | 15 : 14 |
|- - - - -|- - - - -|                                   |- - - - -|- - - - -|
| 10 : 11 | 14 : 15 |                                   | 10 :  9 | 13 : 12 |
 -------------------                                     -------------------
 ```
 
 
 
 ```
 --------------------------------------------            --------------------------------------------
|  0 :  1 :  2 |  9 : 10 : 11 | 18 : 19 : 20 |          |  2 :  4 :  3 | 16 : 15 :  9 | 25 : 22 : 19 |
|- - - - - - - |- - - - - - - |- - - - - - - |          |- - - - - - - |- - - - - - - |- - - - - - - |
|  3 :  4 :  5 | 12 : 13 : 14 | 21 : 22 : 23 |          |  7 :  0 :  1 | 10 : 13 : 11 | 23 : 20 : 18 |
|- - - - - - - |- - - - - - - |- - - - - - - |          |- - - - - - - |- - - - - - - |- - - - - - - |
|  6 :  7 :  8 | 15 : 16 : 17 | 24 : 25 : 26 |          |  8 :  6 :  5 | 17 : 12 : 14 | 24 : 26 : 21 |
|--------------+--------------+--------------|          |--------------+--------------+--------------|
| 27 : 28 : 29 | 36 : 37 : 38 | 45 : 46 : 47 |          | 31 : 29 : 28 | 42 : 39 : 43 | 49 : 46 : 52 |
|- - - - - - - |- - - - - - - |- - - - - - - |          |- - - - - - - |- - - - - - - |- - - - - - - |
| 30 : 31 : 32 | 39 : 40 : 41 | 48 : 49 : 50 |          | 30 : 34 : 33 | 37 : 41 : 40 | 51 : 50 : 53 |
|- - - - - - - |- - - - - - - |- - - - - - - |          |- - - - - - - |- - - - - - - |- - - - - - - |
| 33 : 34 : 35 | 42 : 43 : 44 | 51 : 52 : 53 |          | 35 : 27 : 32 | 44 : 36 : 38 | 45 : 48 : 47 |
|--------------+--------------+--------------|          |--------------+--------------+--------------|
| 54 : 55 : 56 | 63 : 64 : 65 | 72 : 73 : 74 |          | 62 : 54 : 59 | 69 : 71 : 65 | 80 : 78 : 75 |
|- - - - - - - |- - - - - - - |- - - - - - - |          |- - - - - - - |- - - - - - - |- - - - - - - |
| 57 : 58 : 59 | 66 : 67 : 68 | 75 : 76 : 77 |          | 61 : 56 : 57 | 70 : 63 : 68 | 76 : 73 : 72 |
|- - - - - - - |- - - - - - - |- - - - - - - |          |- - - - - - - |- - - - - - - |- - - - - - - |
| 60 : 61 : 62 | 69 : 70 : 71 | 78 : 79 : 80 |          | 55 : 60 : 58 | 64 : 67 : 66 | 77 : 79 : 74 |
 --------------------------------------------            --------------------------------------------
```
